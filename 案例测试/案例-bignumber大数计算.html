<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>bignumber</title>
	</head>
	<body>
		<script src="../js/bignumber.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			let x = new BigNumber(123.4567);
			let y = x / (10**18);
			console.log(x.toString(),x.toFixed(),y.toString());
			// 加法
			console.log("加法",new BigNumber("4").plus(6).toString());
			// 减法
			console.log("减法",new BigNumber("8").minus(2).toString());
			// 乘法
			console.log("乘法",new BigNumber("8").times(10**3).toString());
			console.log("乘法",new BigNumber("8").multipliedBy(10**3).toString());
			// 除法
			console.log("除法",new BigNumber("8").div(2).toString());
			console.log("除法",new BigNumber("8").dividedBy(2).toString());
			console.log('-----------');
			console.log("千分位-小数位",new BigNumber("10000000000000").dividedBy(2).toFormat(4));
			let ber = new BigNumber('1e18');
			console.log("千分位-小数位-",new BigNumber(ber).integerValue().toFormat(4));
			console.log("小数位",new BigNumber("10000000000000").dividedBy(2).toFixed(2));
			console.log('--------------------------------');
			let n=1233456;
			toQfw(n);
			// function toQfw(){
			//   var str_n=n.toString();
			//   var result="";
			//   while(str_n.length>3){
			//     result=","+str_n.slice(-3)+result;
			//     str_n=str_n.slice(0,str_n.length-3)
			//   }
			//   if(str_n){
			//     alert(str_n+result)
			//   }
			// };
			
			// 千分位 正则
			function toQfw(){
			  var str_n=n.toString();
			  var result="";
			  var re=/\d{3}$/;
			  while(re.test(str_n)){
			    result=RegExp.lastMatch+result;
			    if(str_n!=RegExp.lastMatch){
			      result=","+result;
			      str_n=RegExp.leftContext; //匹配成功，返回匹配内容左侧的字符信息
			    }
			    else{
			      num="";
			    }
			  }
			  if(str_n){
			    alert(str_n+result);
			  }
			}
			// 千分位 正则
			var str="123598752";
			var re=/(?=(?!(\b))(\d{3})+$)/g;
			str=str.replace(re,",");
			alert(str);
		</script>
	</body>
</html>
